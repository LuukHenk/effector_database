{% load static %}

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport"
			  content="width=device-width, initial-scale=1.0">
		<title>Effector database</title>

		<link rel="stylesheet" type="text/css"
			  href="{% static 'database/databaseViewer.css' %}">
	</head>

	<body>
		<header class="title_area">
			<h1 class="title_area--title">Effector database</h1>
		</header>

		<div class="banner">
			<a class="banner_item banner_item--active" href="{% url 'database:databaseViewer' %}">Database</a>
			<a class="banner_item" href="{% url 'database:submit' %}">Add sequence</a>
		</div>


		<div class="main_page">
			<div class="search_area" id="search_area">
				<form method="post">
					{% csrf_token %}
					<div class="item_block">
						<label for="search_filter.form.effector_id">Effector ID</label>
						<input id="search_filter.form.effector_id" type="text" name="effector_id"
					   placeholder="fasta_123" value={{ search_effector_id }}>
					</div>


					<div class="item_block">
						<label for="search_filter.form.effector_sequence">DNA sequence</label>
						<input id="search_filter.form.effector_sequence" type="text" name="effector_sequence"
						placeholder="ACTG" value={{ search_effector_sequence }}>
					</div>

					<div class="submit_buttom_area">
						<input type="submit" value="Search">
					</div>
				</form>
			</div>

			<p>{{ error_message }}</p>

			<table id="effector_sequence_table">
				<tr>
					<th>Effector ID</th>
					<th>DNA sequence</th>
					<th></th>
				</tr>
				{% if effector_sequences %}
					{% for effector_sequence in effector_sequences %}
						<tr>
							<td>{{ effector_sequence.effector_id }}</td>
							<td>{{ effector_sequence.effector_sequence }}</td>
							<td>
								<form action="{% url 'database:deleteSequence' %}" method="post">
									{% csrf_token %}
									<input type="hidden" value={{ effector_sequence.effector_id }}
									name="effector_id">
									<input type="hidden" value={{ effector_sequence.effector_sequence }}
									name="effector_sequence">
									<input type="submit" value="Delete">
								</form>
							</td>
						</tr>
					{% endfor %}
				{% else %}
					<tr>
						<td>No data available</td>
						<td></td>
						<td></td>
					</tr>
				{% endif %}
			</table>
		</div>
	</body>
</html>

